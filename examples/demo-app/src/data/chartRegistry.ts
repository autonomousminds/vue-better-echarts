import type { ChartDefinition } from '../types/playground.types';
import {
  barChartProps, lineChartProps, areaChartProps,
  scatterPlotProps, bubbleChartProps, boxPlotProps,
  histogramProps, funnelChartProps, pieChartProps,
  heatmapProps, calendarHeatmapProps, sankeyDiagramProps,
  waterfallChartProps, usMapProps,
  pointMapProps, bubbleMapProps,
  dataTableProps,
} from './propDefinitions';

export const chartRegistry: ChartDefinition[] = [
  {
    id: 'bar-chart', name: 'Bar Chart', componentName: 'BarChart',
    category: 'Standard Charts',
    description: 'Vertical/horizontal bars with stacked, grouped, or stacked100 modes',
    dataBindings: { x: 'month', y: 'sales', series: 'region' },
    supportsReferences: true,
    props: barChartProps,
    sampleDataKey: 'sales',
  },
  {
    id: 'line-chart', name: 'Line Chart', componentName: 'LineChart',
    category: 'Standard Charts',
    description: 'Line charts with markers, step interpolation, missing value handling',
    dataBindings: { x: 'day', y: ['value', 'trend'] },
    supportsReferences: true,
    props: lineChartProps,
    sampleDataKey: 'timeSeries',
  },
  {
    id: 'area-chart', name: 'Area Chart', componentName: 'AreaChart',
    category: 'Standard Charts',
    description: 'Area charts with stacked or stacked100 modes',
    dataBindings: { x: 'day', y: ['value', 'trend'] },
    supportsReferences: true,
    props: areaChartProps,
    sampleDataKey: 'timeSeries',
  },
  {
    id: 'scatter-plot', name: 'Scatter Plot', componentName: 'ScatterPlot',
    category: 'Standard Charts',
    description: 'Scatter plots with customizable point shapes and opacity',
    dataBindings: { x: 'age', y: 'income' },
    supportsReferences: true,
    props: scatterPlotProps,
    sampleDataKey: 'scatter',
  },
  {
    id: 'bubble-chart', name: 'Bubble Chart', componentName: 'BubbleChart',
    category: 'Standard Charts',
    description: 'Scatter with size dimension for three-variable visualization',
    dataBindings: { x: 'age', y: 'income', size: 'spending' },
    supportsReferences: true,
    props: bubbleChartProps,
    sampleDataKey: 'bubble',
  },
  {
    id: 'waterfall-chart', name: 'Waterfall Chart', componentName: 'WaterfallChart',
    category: 'Standard Charts',
    description: 'Cumulative or bridge waterfall with positive/negative breakdown',
    dataBindings: { x: 'category', y: 'amount' },
    supportsReferences: false,
    props: waterfallChartProps,
    sampleDataKey: 'waterfall',
  },
  {
    id: 'box-plot', name: 'Box Plot', componentName: 'BoxPlot',
    category: 'Statistical',
    description: 'Statistical box plots showing distribution',
    dataBindings: { x: 'group', min: 'min', confidenceIntervalLower: 'q1', midpoint: 'median', confidenceIntervalUpper: 'q3', max: 'max' },
    supportsReferences: false,
    props: boxPlotProps,
    sampleDataKey: 'boxPlot',
  },
  {
    id: 'histogram', name: 'Histogram', componentName: 'Histogram',
    category: 'Statistical',
    description: 'Automatic binning for frequency distribution',
    dataBindings: { x: 'income' },
    supportsReferences: false,
    props: histogramProps,
    sampleDataKey: 'histogram',
  },
  {
    id: 'funnel-chart', name: 'Funnel Chart', componentName: 'FunnelChart',
    category: 'Part-to-Whole',
    description: 'Funnel/pipeline visualization',
    dataBindings: { name: 'stage', value: 'count' },
    supportsReferences: false,
    props: funnelChartProps,
    sampleDataKey: 'funnel',
  },
  {
    id: 'pie-chart', name: 'Pie Chart', componentName: 'PieChart',
    category: 'Part-to-Whole',
    description: 'Pie and donut charts with configurable labels',
    dataBindings: { name: 'category', value: 'revenue' },
    supportsReferences: false,
    props: pieChartProps,
    sampleDataKey: 'pie',
  },
  {
    id: 'heatmap', name: 'Heatmap', componentName: 'Heatmap',
    category: 'Relational',
    description: '2D heatmap with color scales',
    dataBindings: { x: 'hour', y: 'day', value: 'value' },
    supportsReferences: false,
    props: heatmapProps,
    sampleDataKey: 'heatmap',
  },
  {
    id: 'calendar-heatmap', name: 'Calendar Heatmap', componentName: 'CalendarHeatmap',
    category: 'Relational',
    description: 'Calendar-based heatmap for time series',
    dataBindings: { date: 'date', value: 'contributions' },
    supportsReferences: false,
    props: calendarHeatmapProps,
    sampleDataKey: 'calendar',
  },
  {
    id: 'sankey-diagram', name: 'Sankey Diagram', componentName: 'SankeyDiagram',
    category: 'Relational',
    description: 'Flow visualization between nodes',
    dataBindings: { source: 'source', target: 'target', value: 'value' },
    supportsReferences: false,
    props: sankeyDiagramProps,
    sampleDataKey: 'sankey',
  },
  {
    id: 'us-map', name: 'US Map', componentName: 'USMap',
    category: 'Maps',
    description: 'US state choropleth map',
    dataBindings: { state: 'state', value: 'population' },
    supportsReferences: false,
    props: usMapProps,
    sampleDataKey: 'usMap',
  },
  {
    id: 'point-map', name: 'Point Map', componentName: 'PointMap',
    category: 'Maps',
    description: 'Point markers on world map',
    dataBindings: { lat: 'lat', long: 'long', name: 'country', value: 'gdp' },
    supportsReferences: false,
    props: pointMapProps,
    sampleDataKey: 'pointMap',
  },
  {
    id: 'bubble-map', name: 'Bubble Map', componentName: 'BubbleMap',
    category: 'Maps',
    description: 'Sized bubbles on world map',
    dataBindings: { lat: 'lat', long: 'long', name: 'country', value: 'gdp', size: 'population' },
    supportsReferences: false,
    props: bubbleMapProps,
    sampleDataKey: 'bubbleMap',
  },
  {
    id: 'data-table', name: 'Data Table', componentName: 'DataTable',
    category: 'Tables',
    description: 'Full-featured data table with sorting, pagination, search, grouping, and totals',
    dataBindings: {},
    supportsReferences: false,
    props: dataTableProps,
    sampleDataKey: 'table',
  },
];

export const chartCategories = [
  'Standard Charts',
  'Statistical',
  'Part-to-Whole',
  'Relational',
  'Maps',
  'Tables',
] as const;
